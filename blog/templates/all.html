{% extends "layout.html" %}
{% block content %}

<h1 class='centreText'>PLEASE READ ALL OF OUR POSTS, I BEG YOU!</h1>
<p class='centreText'>The beatings only stop once our viewcount goes up!</p>
<div id='sortlinks'>
    <a href="{{ url_for('descending') }}">SORT BY NEWEST POST</a>&nbsp;/&nbsp;<a href="{{ url_for('ascending') }}">SORT BY OLDEST POST</a>
</div>
<div class='PostsFlex'>
    {% for post in posts %}
        <div class='Post'>
            <p><a href="{{ url_for('post', post_id=post.id) }}">{{ post.title }}</a> by {{ post.user.username }}<small> ({{ post.date }})</small></p>
            <img src="{{ url_for('static', filename='img/' + post.image_file) }}">
            <p>{{ post.content | safe | truncate(100) }}</p>
            <p>Likes: {{ post.like.count() }}</p>
        </div>
    {% endfor %}
</div>

{% endblock content %}